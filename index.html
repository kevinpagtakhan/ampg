<html>
  <head>
    <title>
      ampg
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script>
      const device_id = Date.now().toString() + Date.now().toString();
      const session_id = Date.now();
      const DEFAULT_ENDPOINT = 'https://api2.amplitude.com/2/httpapi';
      function send() {
        const endpoint = document.getElementById('endpoint').value || DEFAULT_ENDPOINT;
        const api_key = document.getElementById('api').value;
        const event_type = document.getElementById('event').value;
        const group_type = document.getElementById('group-type').value;
        const group_type_value = document.getElementById('group-type-value').value;
        const group_property = document.getElementById('group-property').value;
        const group_property_value = document.getElementById('group-property-value').value;
        fetch(endpoint, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            Accept: '*/*',
          },
          body: JSON.stringify({
            api_key,
            events: [
              {
                device_id,
                session_id,
                event_type,
                groups: {
                  [group_type]: group_type_value,
                },
                group_properties: {
                  '$set': {
                    [group_property]: group_property_value
                  }
                },
                library: 'ampg/0.1',
              },
            ],
          }),
        })
      }
    </script>
  </head>
  <body>
    <div class="container-sm py-3">
      <div class="pb-3">
        <label class="form-label" for="endpoint">Endpoint (Optional)</label>
        <input class="form-control" id="endpoint" type="text" placeholder="https://api2.amplitude.com/2/httpapi"></input>
      </div>
      <div class="pb-3">
        <label class="form-label" for="api">API KEY</label>
        <input class="form-control" id="api" type="text"></input>
      </div>
      <div class="pb-3">
        <label class="form-label" for="event">Event Type</label>
        <input class="form-control" id="event" type="text"></input>
      </div>
      <div class="pb-3">
        <label class="form-label" for="group">Group</label>
        <input class="form-control mb-2" id="group-type" type="text" placeholder="Group type"></input>
        <input class="form-control" id="group-type-value" type="text" placeholder="Group type value"></input>
      </div>
      <div class="pb-3">
        <label class="form-label" for="group">Group Identify (Optional)</label>
        <input class="form-control mb-2" id="group-property" type="text" placeholder="Group property"></input>
        <input class="form-control" id="group-property-value" type="text" placeholder="Group property value"></input>
      </div>
      <div class="pb-3">
        <button type="button" class="btn btn-primary" onclick="send()">Send</button>
      </div>
    </div>
  </body>
</html>
